-- Part 13: Life Events & Travel
-- Non-training events and trip planning for demo athlete

-- ============================================
-- LIFE EVENTS (Past year + upcoming)
-- ============================================

INSERT INTO life_events (athlete_id, date, end_date, event_type, title, training_impact, available_hours, notes) VALUES
-- Work events
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 350, CURRENT_DATE - 350, 'work', 'Annual Performance Review', 'none', 2, 'Stressful but went well'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 320, CURRENT_DATE - 318, 'work', 'Client Conference - Manchester', 'reduced', 1, 'Long days, hotel gym only'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 280, CURRENT_DATE - 280, 'work', 'Team Offsite Day', 'blocked', 0, 'Full day event, no training'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 250, CURRENT_DATE - 247, 'work', 'Business Trip - Amsterdam', 'reduced', 1.5, 'Brought running shoes, did hotel workouts'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 200, CURRENT_DATE - 200, 'work', 'Important Client Presentation', 'none', 2, 'High stress day, kept training short'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 150, CURRENT_DATE - 148, 'work', 'Training Course - Leadership', 'reduced', 1, 'Indoor trainer only'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 95, CURRENT_DATE - 95, 'work', 'Year-End Deadline', 'reduced', 1, 'Working late, quick morning spin only'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 45, CURRENT_DATE - 42, 'work', 'Project Sprint Week', 'reduced', 1.5, 'Intense work week, maintained base fitness'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 30, CURRENT_DATE + 32, 'work', 'Industry Conference - Birmingham', 'reduced', 1, 'Will bring bike if possible'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 75, CURRENT_DATE + 75, 'work', 'Quarterly Review', 'none', 2, 'Plan easy training day'),

-- Family events
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 365, CURRENT_DATE - 360, 'family', 'Christmas with Family', 'reduced', 1, 'Family time priority, light training only'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 330, CURRENT_DATE - 330, 'family', 'Mum''s Birthday', 'reduced', 1.5, 'Morning ride, family lunch'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 290, CURRENT_DATE - 289, 'family', 'Cousin''s Wedding - Bristol', 'blocked', 0, 'Full weekend event'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 220, CURRENT_DATE - 217, 'family', 'Easter Weekend', 'reduced', 2, 'Family visits, some outdoor rides'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 180, CURRENT_DATE - 180, 'family', 'Dad''s 60th Birthday', 'reduced', 1, 'Morning ride, party in evening'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 100, CURRENT_DATE - 100, 'family', 'Niece''s School Play', 'none', 2.5, 'Evening event, training as normal'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 30, CURRENT_DATE - 30, 'family', 'Family Dinner', 'none', 2, 'Regular weekly family time'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 60, CURRENT_DATE + 62, 'family', 'Bank Holiday Weekend - Parents Visit', 'reduced', 1.5, 'Will do early morning rides'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 120, CURRENT_DATE + 120, 'family', 'Brother''s BBQ', 'none', 2, 'Saturday event, Sunday long ride'),

-- Social events
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 340, CURRENT_DATE - 340, 'social', 'New Year''s Eve Party', 'blocked', 0, 'Late night, rest day after'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 270, CURRENT_DATE - 270, 'social', 'Friend''s Stag Do', 'blocked', 0, 'Recovery day needed after'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 230, CURRENT_DATE - 230, 'social', 'Cycling Club Annual Dinner', 'none', 2, 'Evening event only'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 160, CURRENT_DATE - 160, 'social', 'Friend''s Birthday', 'reduced', 1, 'Morning ride, evening out'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 80, CURRENT_DATE - 80, 'social', 'Pub Quiz Night', 'none', 2.5, 'Regular weekly social'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 14, CURRENT_DATE + 14, 'social', 'Club Awards Night', 'none', 2, 'Evening event'),

-- Vacation
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 300, CURRENT_DATE - 294, 'vacation', 'Winter Holiday - Skiing', 'blocked', 0, 'Ski trip, no cycling but good fitness'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 190, CURRENT_DATE - 183, 'vacation', 'Summer Holiday - Mallorca', 'none', 4, 'Cycling holiday! Trained every day'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 200, CURRENT_DATE + 207, 'vacation', 'Planned: Dolomites Cycling Trip', 'none', 5, 'Peak cycling holiday'),

-- Medical
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 240, CURRENT_DATE - 240, 'medical', 'Dentist Appointment', 'none', 2.5, 'Routine checkup'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 170, CURRENT_DATE - 165, 'medical', 'Minor Illness - Cold', 'blocked', 0, 'Took full rest, recovered well'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 90, CURRENT_DATE - 90, 'medical', 'Physio Session - Knee', 'reduced', 1, 'Preventative maintenance'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 60, CURRENT_DATE - 60, 'medical', 'Annual Health Check', 'none', 2, 'All results good'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE + 45, CURRENT_DATE + 45, 'medical', 'Sports Massage Booked', 'none', 2.5, 'Pre-race maintenance'),

-- Travel (general)
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 260, CURRENT_DATE - 257, 'travel', 'Long Weekend - Edinburgh', 'reduced', 1.5, 'City break with partner'),
('00000000-0000-0000-0000-000000000001', CURRENT_DATE - 130, CURRENT_DATE - 130, 'travel', 'Day Trip - Oxford', 'none', 2, 'Quick day trip');

-- ============================================
-- TRAVEL (Detailed trip planning)
-- ============================================

INSERT INTO travel (athlete_id, trip_name, purpose, departure_date, return_date, total_days, destination_city, destination_country, destination_lat, destination_lng, destination_elevation_m, destination_timezone, flights, total_flight_hours, timezone_change_hours, accommodation_type, accommodation_name, accommodation_address, check_in, check_out, bike_transport, travel_checklist, documents_needed, total_cost_estimate, currency, costs_breakdown, notes, lucy_travel_tips) VALUES

-- Past: Autumn Gran Fondo Trip
('00000000-0000-0000-0000-000000000001',
'Autumn Gran Fondo 2024',
'race',
CURRENT_DATE - 122,
CURRENT_DATE - 119,
4,
'Como',
'Italy',
45.8080,
9.0852,
201,
'Europe/Rome',
'[{"airline": "EasyJet", "flight_number": "EZY2451", "departure_airport": "LGW", "arrival_airport": "MXP", "departure_time": "2024-10-15T06:30:00", "arrival_time": "2024-10-15T09:30:00", "seat": "12A"}, {"airline": "EasyJet", "flight_number": "EZY2452", "departure_airport": "MXP", "arrival_airport": "LGW", "departure_time": "2024-10-18T18:00:00", "arrival_time": "2024-10-18T19:00:00", "seat": "14C"}]',
3.5,
1,
'hotel',
'Hotel Larius',
'Via Regina 57, Cadenabbia di Griante, Lake Como',
(CURRENT_DATE - 122)::date + TIME '14:00',
(CURRENT_DATE - 119)::date + TIME '11:00',
'Bike box - Scicon AeroComfort',
'["Bike box", "Helmet", "Shoes", "Race kit x2", "Nutrition - gels and bars", "Tools and spares", "Rain jacket", "Arm warmers", "Chargers", "Race number pickup info"]',
'["Passport", "Event registration confirmation", "Travel insurance docs", "Hotel booking confirmation", "Flight tickets"]',
650.00,
'GBP',
'{"flights": 180, "hotel": 280, "race_entry": 85, "bike_box_rental": 45, "transfers": 60}',
'Great race weekend! Lake Como is stunning.',
'Arrive day before to build bike and do recon spin. Carb load Italian style - pasta dinner. Pack emergency rain gear for mountains.'),

-- Past: Mallorca Training Camp
('00000000-0000-0000-0000-000000000001',
'Mallorca Training Camp',
'training_camp',
CURRENT_DATE - 190,
CURRENT_DATE - 183,
8,
'Port de Pollença',
'Spain',
39.9054,
3.0845,
5,
'Europe/Madrid',
'[{"airline": "British Airways", "flight_number": "BA2481", "departure_airport": "LHR", "arrival_airport": "PMI", "departure_time": "2024-07-01T08:15:00", "arrival_time": "2024-07-01T11:45:00", "seat": "8F"}, {"airline": "British Airways", "flight_number": "BA2482", "departure_airport": "PMI", "arrival_airport": "LHR", "departure_time": "2024-07-08T14:30:00", "arrival_time": "2024-07-08T16:00:00", "seat": "10A"}]',
5.0,
1,
'hotel',
'Hotel Illa d''Or',
'Passeig Colom 265, Port de Pollença',
(CURRENT_DATE - 190)::date + TIME '15:00',
(CURRENT_DATE - 183)::date + TIME '11:00',
'Rental bike from local shop',
'["Cycling kit x7", "Helmet", "Shoes", "Sunscreen SPF50", "Arm/leg warmers", "Rain jacket", "Nutrition supplies", "Electrolytes", "Chamois cream", "Multi-tool", "Spare tubes x3", "CO2 canisters", "Sunglasses"]',
'["Passport", "EHIC card", "Travel insurance", "Hotel confirmation", "Bike rental confirmation"]',
1450.00,
'GBP',
'{"flights": 320, "hotel": 840, "bike_rental": 180, "food": 350, "transfers": 60}',
'Amazing week! Sa Calobra twice, Cap Formentor, great weather. Huge training block.',
'Hydration critical in heat. Start rides early (6-7am) to avoid peak sun. Rest day mid-week to absorb training load. Local cafes are cyclist-friendly.'),

-- Upcoming: Milano-Sanremo Gran Fondo
('00000000-0000-0000-0000-000000000001',
'Milano-Sanremo Gran Fondo 2025',
'race',
CURRENT_DATE + 83,
CURRENT_DATE + 87,
5,
'Milan',
'Italy',
45.4642,
9.1900,
120,
'Europe/Rome',
'[{"airline": "Ryanair", "flight_number": "FR1234", "departure_airport": "STN", "arrival_airport": "MXP", "departure_time": null, "arrival_time": null, "seat": null}]',
2.5,
1,
'airbnb',
'Apartment near Duomo',
'Via Torino, Milan',
(CURRENT_DATE + 83)::date + TIME '15:00',
(CURRENT_DATE + 87)::date + TIME '10:00',
'Bike box - own Scicon',
'["Bike box and bike", "Race kit x2", "Warm base layers", "Rain/cold weather gear", "Helmet", "Shoes x2", "Nutrition - 15 gels, bars", "Electrolytes", "Tools and spares", "Chargers", "Recovery gear", "Casual clothes"]',
'["Passport", "Event registration", "Travel insurance", "Accommodation confirmation", "Train tickets Milan-Sanremo"]',
800.00,
'GBP',
'{"flights": 150, "accommodation": 350, "race_entry": 95, "train": 45, "bike_transport": 50, "food": 110}',
'A-race! Main goal for spring. Need to peak perfectly.',
'Build bike day before race. Recon the Poggio climb if possible. Carb load properly. Check weather - Ligurian coast can be unpredictable. Pack for all conditions.'),

-- Upcoming: Club TT Trip
('00000000-0000-0000-0000-000000000001',
'Club TT Championship',
'race',
CURRENT_DATE + 20,
CURRENT_DATE + 21,
2,
'Cambridge',
'United Kingdom',
52.2053,
0.1218,
6,
'Europe/London',
NULL,
0,
0,
'friends',
'Staying with club mate Dave',
'Cambridge',
(CURRENT_DATE + 20)::date + TIME '18:00',
(CURRENT_DATE + 21)::date + TIME '14:00',
'Car - bike on roof rack',
'["TT bike", "Skinsuit", "Aero helmet", "Overshoes", "Arm warmers", "Number and pins", "Warm-up kit", "Trainer", "Nutrition", "Tools"]',
'["Driving licence", "Race entry confirmation"]',
50.00,
'GBP',
'{"fuel": 30, "race_entry": 20}',
'First TT of season. Testing the new position.',
'Warm up protocol: 20 min easy, 3x1 min efforts. Arrive 90 min before start. Course is flat and fast - hold aero position.'),

-- Future: Summer Gran Fondo
('00000000-0000-0000-0000-000000000001',
'Summer Gran Fondo Alps',
'race',
CURRENT_DATE + 148,
CURRENT_DATE + 152,
5,
'Annecy',
'France',
45.8992,
6.1294,
448,
'Europe/Paris',
'[{"airline": "EasyJet", "flight_number": "TBC", "departure_airport": "LGW", "arrival_airport": "GVA", "departure_time": null, "arrival_time": null, "seat": null}]',
2.0,
1,
'hotel',
'TBC - booking soon',
'Annecy area',
(CURRENT_DATE + 148)::date + TIME '14:00',
(CURRENT_DATE + 152)::date + TIME '11:00',
'Bike box',
'["To be confirmed closer to date"]',
'["Passport", "Event registration", "Travel insurance"]',
900.00,
'GBP',
'{"flights": 200, "hotel": 400, "race": 95, "bike_transport": 60, "food": 145}',
'Major A-race target. Big Alpine climbs. Need peak form.',
'Altitude considerations - arrive 2 days early if possible. Col climbs require smart pacing. Pack warm descending gear even in summer.');
